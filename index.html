<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××—×©×‘×•×Ÿ ×•×•×“×§×•×§-×’'×•× ×¡×•×Ÿ ×œ××‘×—×•×Ÿ ×™×œ×“×™×</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            text-align: center;
            padding: 40px 20px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 1px solid #e9ecef;
        }

        .section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #34495e;
            font-size: 1.1em;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .score-input {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .score-input:hover {
            border-color: #3498db;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .score-input h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .results {
            background: #e8f5e8;
            border: 2px solid #27ae60;
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            display: none;
        }

        .results h3 {
            color: #27ae60;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .result-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 4px solid #3498db;
        }

        .result-item strong {
            color: #2c3e50;
            font-size: 1.2em;
        }

        .file-upload {
            border: 2px dashed #3498db;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .file-upload:hover {
            background: #e9ecef;
            border-color: #2980b9;
        }

        .file-upload i {
            font-size: 3em;
            color: #3498db;
            margin-bottom: 10px;
        }

        .recommendations {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
        }

        .recommendations h4 {
            color: #856404;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .recommendations ul {
            list-style: none;
            padding: 0;
        }

        .recommendations li {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .recommendations li:before {
            content: "âœ“";
            color: #28a745;
            font-weight: bold;
            margin-left: 10px;
        }

        .interpretation {
            background: #e1f5fe;
            border: 2px solid #0277bd;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
        }

        .interpretation h4 {
            color: #0277bd;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }

            .main-content {
                padding: 20px;
            }

            .grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>××—×©×‘×•×Ÿ ×•×•×“×§×•×§-×’'×•× ×¡×•×Ÿ</h1>
            <p>××¢×¨×›×ª ×œ×¢×™×‘×•×“ ××‘×—×•× ×™× ×¤×¡×™×›×•-×—×™× ×•×›×™×™× ×•×™×¦×™×¨×ª ×“×•×—×•×ª ××§×™×¤×™×</p>
        </div>

        <div class="main-content">
            <!-- ×¤×¨×˜×™ ×”×ª×œ××™×“ -->
            <div class="section">
                <h2>×¤×¨×˜×™ ×”×ª×œ××™×“</h2>
                <div class="grid">
                    <div class="form-group">
                        <label for="studentName">×©× ×”×ª×œ××™×“:</label>
                        <input type="text" id="studentName" placeholder="×”×–×Ÿ ×©× ××œ×">
                    </div>
                    <div class="form-group">
                        <label for="studentAge">×’×™×œ:</label>
                        <input type="number" id="studentAge" placeholder="×’×™×œ ×‘×—×•×“×©×™×">
                    </div>
                    <div class="form-group">
                        <label for="testDate">×ª××¨×™×š ×”×‘×“×™×§×”:</label>
                        <input type="date" id="testDate">
                    </div>
                    <div class="form-group">
                        <label for="grade">×›×™×ª×”:</label>
                        <select id="grade">
                            <option value="">×‘×—×¨ ×›×™×ª×”</option>
                            <option value="1">×›×™×ª×” ×'</option>
                            <option value="2">×›×™×ª×” ×‘'</option>
                            <option value="3">×›×™×ª×” ×’'</option>
                            <option value="4">×›×™×ª×” ×“'</option>
                            <option value="5">×›×™×ª×” ×”'</option>
                            <option value="6">×›×™×ª×” ×•'</option>
                            <option value="7">×›×™×ª×” ×–'</option>
                            <option value="8">×›×™×ª×” ×—'</option>
                            <option value="9">×›×™×ª×” ×˜'</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- ×”×¢×œ××ª ×§×‘×¦×™× -->
            <div class="section">
                <h2>×”×¢×œ××ª ×§×‘×¦×™ ××‘×—×•×Ÿ</h2>
                <div class="file-upload" onclick="document.getElementById('fileInput').click()">
                    <div style="font-size: 3em; margin-bottom: 10px;">ğŸ“</div>
                    <h3>×œ×—×¥ ×›××Ÿ ×œ×”×¢×œ××ª ×§×‘×¦×™ ××‘×—×•×Ÿ</h3>
                    <p>×ª×•××š ×‘×§×‘×¦×™ PDF, Word, Excel</p>
                    <input type="file" id="fileInput" multiple accept=".pdf,.doc,.docx,.xls,.xlsx" style="display: none;">
                </div>
            </div>

            <!-- ×”×–× ×ª ×¦×™×•× ×™× ×™×“× ×™×ª -->
            <div class="section">
                <h2>×”×–× ×ª ×¦×™×•× ×™× ×™×“× ×™×ª</h2>
                <div class="grid">
                    <div class="score-input">
                        <h3>×™×›×•×œ×•×ª ×§×•×’× ×™×˜×™×‘×™×•×ª ×›×œ×œ×™×•×ª (GIA)</h3>
                        <div class="form-group">
                            <label>×¦×™×•×Ÿ ×’×•×œ××™:</label>
                            <input type="number" id="gia_raw" placeholder="×”×–×Ÿ ×¦×™×•×Ÿ ×’×•×œ××™">
                        </div>
                        <div class="form-group">
                            <label>×¦×™×•×Ÿ ×¡×˜× ×“×¨×˜×™:</label>
                            <input type="number" id="gia_standard" placeholder="×™×—×•×©×‘ ××•×˜×•××˜×™×ª">
                        </div>
                    </div>

                    <div class="score-input">
                        <h3>×”×‘× ×ª ××™×œ×™× (Picture Vocabulary)</h3>
                        <div class="form-group">
                            <label>×¦×™×•×Ÿ ×’×•×œ××™:</label>
                            <input type="number" id="vocab_raw" placeholder="×”×–×Ÿ ×¦×™×•×Ÿ ×’×•×œ××™">
                        </div>
                        <div class="form-group">
                            <label>×¦×™×•×Ÿ ×¡×˜× ×“×¨×˜×™:</label>
                            <input type="number" id="vocab_standard" placeholder="×™×—×•×©×‘ ××•×˜×•××˜×™×ª">
                        </div>
                    </div>

                    <div class="score-input">
                        <h3>×–×™×›×¨×•×Ÿ ××¡×¤×¨×™× (Numbers Reversed)</h3>
                        <div class="form-group">
                            <label>×¦×™×•×Ÿ ×’×•×œ××™:</label>
                            <input type="number" id="numbers_raw" placeholder="×”×–×Ÿ ×¦×™×•×Ÿ ×’×•×œ××™">
                        </div>
                        <div class="form-group">
                            <label>×¦×™×•×Ÿ ×¡×˜× ×“×¨×˜×™:</label>
                            <input type="number" id="numbers_standard" placeholder="×™×—×•×©×‘ ××•×˜×•××˜×™×ª">
                        </div>
                    </div>

                    <div class="score-input">
                        <h3>×–×™×”×•×™ ××™×œ×™× (Letter-Word Identification)</h3>
                        <div class="form-group">
                            <label>×¦×™×•×Ÿ ×’×•×œ××™:</label>
                            <input type="number" id="reading_raw" placeholder="×”×–×Ÿ ×¦×™×•×Ÿ ×’×•×œ××™">
                        </div>
                        <div class="form-group">
                            <label>×¦×™×•×Ÿ ×¡×˜× ×“×¨×˜×™:</label>
                            <input type="number" id="reading_standard" placeholder="×™×—×•×©×‘ ××•×˜×•××˜×™×ª">
                        </div>
                    </div>

                    <div class="score-input">
                        <h3>×—×™×©×•×‘ ××ª××˜×™ (Calculation)</h3>
                        <div class="form-group">
                            <label>×¦×™×•×Ÿ ×’×•×œ××™:</label>
                            <input type="number" id="math_raw" placeholder="×”×–×Ÿ ×¦×™×•×Ÿ ×’×•×œ××™">
                        </div>
                        <div class="form-group">
                            <label>×¦×™×•×Ÿ ×¡×˜× ×“×¨×˜×™:</label>
                            <input type="number" id="math_standard" placeholder="×™×—×•×©×‘ ××•×˜×•××˜×™×ª">
                        </div>
                    </div>

                    <div class="score-input">
                        <h3>×›×ª×™×‘×” (Writing Samples)</h3>
                        <div class="form-group">
                            <label>×¦×™×•×Ÿ ×’×•×œ××™:</label>
                            <input type="number" id="writing_raw" placeholder="×”×–×Ÿ ×¦×™×•×Ÿ ×’×•×œ××™">
                        </div>
                        <div class="form-group">
                            <label>×¦×™×•×Ÿ ×¡×˜× ×“×¨×˜×™:</label>
                            <input type="number" id="writing_standard" placeholder="×™×—×•×©×‘ ××•×˜×•××˜×™×ª">
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <button class="button" onclick="calculateScores()">×—×©×‘ ×¦×™×•× ×™× ×•×™×¦×•×¨ ×“×•×—</button>
                <button class="button" onclick="generateReport()">×¦×•×¨ ×“×•×— ××§×™×£</button>
            </div>

            <!-- ×ª×•×¦××•×ª -->
            <div id="results" class="results">
                <h3>×ª×•×¦××•×ª ×”××‘×—×•×Ÿ</h3>
                <div id="resultsContent"></div>
            </div>
        </div>
    </div>

    <script>
        // × ×ª×•× ×™ × ×•×¨××” ××¤×•×©×˜×™× (×‘×¤×•×¢×œ ×™×© ×¦×•×¨×š ×‘×˜×‘×œ××•×ª × ×•×¨××” ××“×•×™×§×•×ª)
        const normTables = {
            gia: {
                mean: 100,
                sd: 15,
                percentiles: {
                    70: 2, 75: 5, 80: 9, 85: 16, 90: 25, 95: 37, 100: 50,
                    105: 63, 110: 75, 115: 84, 120: 91, 125: 95, 130: 98
                }
            },
            vocab: {
                mean: 100,
                sd: 15,
                percentiles: {
                    70: 2, 75: 5, 80: 9, 85: 16, 90: 25, 95: 37, 100: 50,
                    105: 63, 110: 75, 115: 84, 120: 91, 125: 95, 130: 98
                }
            }
        };

        // ×—×™×©×•×‘ ×¦×™×•× ×™×
        function calculateScores() {
            const studentName = document.getElementById('studentName').value;
            const studentAge = document.getElementById('studentAge').value;
            const testDate = document.getElementById('testDate').value;
            const grade = document.getElementById('grade').value;

            if (!studentName || !studentAge || !testDate || !grade) {
                alert('×× × ××œ× ××ª ×›×œ ×¤×¨×˜×™ ×”×ª×œ××™×“');
                return;
            }

            // ×—×™×©×•×‘ ×¦×™×•× ×™× ×¡×˜× ×“×¨×˜×™×™× ××¦×™×•× ×™× ×’×•×œ××™×™×
            const tests = ['gia', 'vocab', 'numbers', 'reading', 'math', 'writing'];
            const results = {};

            tests.forEach(test => {
                const rawScore = document.getElementById(test + '_raw').value;
                if (rawScore) {
                    const standardScore = convertToStandardScore(rawScore, test, studentAge);
                    document.getElementById(test + '_standard').value = standardScore;
                    results[test] = {
                        raw: rawScore,
                        standard: standardScore,
                        percentile: getPercentile(standardScore),
                        interpretation: getInterpretation(standardScore)
                    };
                }
            });

            displayResults(results);
        }

        // ×”××¨×” ×œ×¦×™×•×Ÿ ×¡×˜× ×“×¨×˜×™ (×¤×•× ×§×¦×™×” ××¤×•×©×˜×ª)
        function convertToStandardScore(rawScore, testType, age) {
            // ×‘×¤×•×¢×œ ×›××Ÿ ×™×”×™×” ×—×™×©×•×‘ ××“×•×™×§ ×œ×¤×™ ×˜×‘×œ××•×ª × ×•×¨××”
            // ×–×” ×“×•×’××” ×¤×©×•×˜×”
            const ageGroup = Math.floor(age / 12);
            const baseScore = 100;
            const adjustment = (rawScore - 50) * 0.5; // × ×•×¡×—×” ×¤×©×•×˜×” ×œ×“×•×’××”
            return Math.round(baseScore + adjustment);
        }

        // ×§×‘×œ×ª ××—×•×–×•×Ÿ
        function getPercentile(standardScore) {
            if (standardScore >= 130) return 98;
            if (standardScore >= 125) return 95;
            if (standardScore >= 120) return 91;
            if (standardScore >= 115) return 84;
            if (standardScore >= 110) return 75;
            if (standardScore >= 105) return 63;
            if (standardScore >= 100) return 50;
            if (standardScore >= 95) return 37;
            if (standardScore >= 90) return 25;
            if (standardScore >= 85) return 16;
            if (standardScore >= 80) return 9;
            if (standardScore >= 75) return 5;
            return 2;
        }

        // ×¤×¨×©× ×•×ª ×”×¦×™×•×Ÿ
        function getInterpretation(standardScore) {
            if (standardScore >= 130) return '×’×‘×•×” ×××•×“';
            if (standardScore >= 115) return '×’×‘×•×”';
            if (standardScore >= 85) return '×××•×¦×¢';
            if (standardScore >= 70) return '× ××•×š';
            return '× ××•×š ×××•×“';
        }

        // ×”×¦×’×ª ×ª×•×¦××•×ª
        function displayResults(results) {
            const resultsDiv = document.getElementById('results');
            const resultsContent = document.getElementById('resultsContent');

            let html = '';

            Object.keys(results).forEach(test => {
                const testNames = {
                    gia: '×™×›×•×œ×•×ª ×§×•×’× ×™×˜×™×‘×™×•×ª ×›×œ×œ×™×•×ª',
                    vocab: '×”×‘× ×ª ××™×œ×™×',
                    numbers: '×–×™×›×¨×•×Ÿ ××¡×¤×¨×™×',
                    reading: '×–×™×”×•×™ ××™×œ×™×',
                    math: '×—×™×©×•×‘ ××ª××˜×™',
                    writing: '×›×ª×™×‘×”'
                };

                html += `
                    <div class="result-item">
                        <strong>${testNames[test]}</strong><br>
                        ×¦×™×•×Ÿ ×’×•×œ××™: ${results[test].raw}<br>
                        ×¦×™×•×Ÿ ×¡×˜× ×“×¨×˜×™: ${results[test].standard}<br>
                        ××—×•×–×•×Ÿ: ${results[test].percentile}<br>
                        ×¤×¨×©× ×•×ª: ${results[test].interpretation}
                    </div>
                `;
            });

            resultsContent.innerHTML = html;
            resultsDiv.style.display = 'block';
        }

        // ×™×¦×™×¨×ª ×“×•×— ××§×™×£
        function generateReport() {
            const studentName = document.getElementById('studentName').value;
            const studentAge = document.getElementById('studentAge').value;
            const testDate = document.getElementById('testDate').value;
            const grade = document.getElementById('grade').value;

            if (!studentName) {
                alert('×× × ×”×–×Ÿ ×©× ×”×ª×œ××™×“');
                return;
            }

            const reportWindow = window.open('', '_blank');
            reportWindow.document.write(`
                <html dir="rtl">
                <head>
                    <title>×“×•×— ××‘×—×•×Ÿ - ${studentName}</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
                        .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; }
                        .section { margin: 30px 0; }
                        .section h2 { color: #2c3e50; border-bottom: 1px solid #3498db; padding-bottom: 10px; }
                        .recommendations { background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; }
                        .score-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                        .score-table th, .score-table td { border: 1px solid #ddd; padding: 12px; text-align: center; }
                        .score-table th { background: #3498db; color: white; }
                        @media print { body { margin: 20px; } }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>×“×•×— ××‘×—×•×Ÿ ×¤×¡×™×›×•-×—×™× ×•×›×™</h1>
                        <h2>××‘×•×¡×¡ ×¢×œ ××¢×¨×›×ª ×•×•×“×§×•×§-×’'×•× ×¡×•×Ÿ</h2>
                    </div>

                    <div class="section">
                        <h2>×¤×¨×˜×™ ×”×ª×œ××™×“</h2>
                        <p><strong>×©×:</strong> ${studentName}</p>
                        <p><strong>×’×™×œ:</strong> ${studentAge} ×—×•×“×©×™×</p>
                        <p><strong>×›×™×ª×”:</strong> ${grade}</p>
                        <p><strong>×ª××¨×™×š ×‘×“×™×§×”:</strong> ${testDate}</p>
                    </div>

                    <div class="section">
                        <h2>×ª×•×¦××•×ª ×”×‘×“×™×§×”</h2>
                        <table class="score-table">
                            <tr>
                                <th>×ª×—×•×</th>
                                <th>×¦×™×•×Ÿ ×’×•×œ××™</th>
                                <th>×¦×™×•×Ÿ ×¡×˜× ×“×¨×˜×™</th>
                                <th>××—×•×–×•×Ÿ</th>
                                <th>×¤×¨×©× ×•×ª</th>
                            </tr>
                            <tr>
                                <td>×™×›×•×œ×•×ª ×§×•×’× ×™×˜×™×‘×™×•×ª ×›×œ×œ×™×•×ª</td>
                                <td>${document.getElementById('gia_raw').value || '×œ× ×”×•×–×Ÿ'}</td>
                                <td>${document.getElementById('gia_standard').value || '×œ× ×—×•×©×‘'}</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>×”×‘× ×ª ××™×œ×™×</td>
                                <td>${document.getElementById('vocab_raw').value || '×œ× ×”×•×–×Ÿ'}</td>
                                <td>${document.getElementById('vocab_standard').value || '×œ× ×—×•×©×‘'}</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>×–×™×›×¨×•×Ÿ ××¡×¤×¨×™×</td>
                                <td>${document.getElementById('numbers_raw').value || '×œ× ×”×•×–×Ÿ'}</td>
                                <td>${document.getElementById('numbers_standard').value || '×œ× ×—×•×©×‘'}</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>×–×™×”×•×™ ××™×œ×™×</td>
                                <td>${document.getElementById('reading_raw').value || '×œ× ×”×•×–×Ÿ'}</td>
                                <td>${document.getElementById('reading_standard').value || '×œ× ×—×•×©×‘'}</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>×—×™×©×•×‘ ××ª××˜×™</td>
                                <td>${document.getElementById('math_raw').value || '×œ× ×”×•×–×Ÿ'}</td>
                                <td>${document.getElementById('math_standard').value || '×œ× ×—×•×©×‘'}</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>×›×ª×™×‘×”</td>
                                <td>${document.getElementById('writing_raw').value || '×œ× ×”×•×–×Ÿ'}</td>
                                <td>${document.getElementById('writing_standard').value || '×œ× ×—×•×©×‘'}</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </table>
                    </div>

                    <div class="section">
                        <h2>×¡×™×›×•× ×•× ×™×ª×•×—</h2>
                        <p>×”×ª×œ××™×“ ${studentName} × ×‘×“×§ ×‘×××¦×¢×•×ª ××¢×¨×›×ª ×•×•×“×§×•×§-×’'×•× ×¡×•×Ÿ ×œ×”×¢×¨×›×ª ×™×›×•×œ×•×ª ×§×•×’× ×™×˜×™×‘×™×•×ª ×•×œ×™××•×“×™×•×ª. ×”×‘×“×™×§×” ××¡×¤×§×ª ××™×“×¢ ×¢×œ × ×§×•×“×•×ª ×—×•×–×§ ×•×—×•×œ×©×” ×©×œ ×”×ª×œ××™×“ ×‘××’×•×•×Ÿ ×ª×—×•××™×.</p>
                    </div>

                    <div class="recommendations">
                        <h2>×”××œ×¦×•×ª ×”×ª×¢×¨×‘×•×ª</h2>
                        <h3>×”××œ×¦×•×ª ×›×œ×œ×™×•×ª:</h3>
                        <ul>
                            <li>×”×ª×××ª ×©×™×˜×•×ª ×”×•×¨××” ×œ×¡×’× ×•×Ÿ ×œ××™×“×” ×©×œ ×”×ª×œ××™×“</li>
                            <li>××ª×Ÿ ×–××Ÿ × ×•×¡×£ ×‘××˜×œ×•×ª ×”×“×•×¨×©×•×ª ×¢×™×‘×•×“ ××•×¨×›×‘</li>
                            <li>×©×™××•×© ×‘×¢×–×¨×™× ×—×–×•×ª×™×™× ×•×× ×¡×˜×¨×¦×™×•×ª</li>
                            <li>×¤×™×¦×•×œ ××˜×œ×•×ª ××•×¨×›×‘×•×ª ×œ×©×œ×‘×™× ×§×˜× ×™× ×™×•×ª×¨</li>
                            <li>××¢×§×‘ ×•×”×¢×¨×›×” ××ª××©×›×ª</li>
                        </ul>

                        <h3>×”××œ×¦×•×ª ×¡×¤×¦×™×¤×™×•×ª:</h3>
                        <ul>
                            <li>×”×ª×××•×ª ×‘×‘×—×™× ×•×ª - ×–××Ÿ × ×•×¡×£, ×”×§×¨××”</li>
                            <li>×©×™×¢×•×¨×™ ×ª×’×‘×•×¨ ×§×‘×•×¦×ª×™×™× ××• ××™×©×™×™×</li>
                            <li>×ª×¨×’×•×œ ××™×•×× ×™ ×‘×¡×™×¡ ×‘×ª×—×•××™× ×—×œ×©×™×</li>
                            <li>×©×™××•×© ×‘×˜×›× ×•×œ×•×’×™×•×ª ××¡×™×™×¢×•×ª</li>
                        </ul>
                    </div>

                    <div class="section">
                        <h2>×”× ×—×™×•×ª ×œ×”×•×¨×™×</h2>
                        <p>×”×•×¨×™× ×™×§×¨×™×, ×“×•×— ×–×” ××¡×¤×§ ××™×“×¢ ×—×©×•×‘ ×¢×œ ×™×›×•×œ×•×ª ×”×ª×œ××™×“ ×•× ×§×•×“×•×ª ×”×—×•×–×§ ×©×œ×•. ×—×©×•×‘ ×œ×–×›×•×¨ ×©×›×œ ×™×œ×“ ×”×•× ×™×™×—×•×“×™ ×•×™×© ×œ×• ×¤×•×˜× ×¦×™××œ ×œ×”×ª×¤×ª×—×•×ª. ×¢×‘×•×“×” ××©×•×ª×¤×ª ×‘×™×Ÿ ×”×‘×™×ª ×œ×‘×™×ª ×”×¡×¤×¨ ×ª×¡×™×™×¢ ×œ×ª×œ××™×“ ×œ×”×’×™×¢ ×œ×”×™×©×’×™× ×”×˜×•×‘×™× ×‘×™×•×ª×¨.</p>

                        <h3>×“×¨×›×™× ×œ×¢×–×•×¨ ×‘×‘×™×ª:</h3>
                        <ul>
                            <li>×™×¦×™×¨×ª ×¡×‘×™×‘×” ×©×§×˜×” ×•××¡×•×“×¨×ª ×œ×œ××™×“×”</li>
                            <li>×”×§×¦××ª ×–××Ÿ ×§×‘×•×¢ ×œ×ª×¨×’×•×œ ×™×•××™</li>
                            <li>×¢×™×“×•×“ ×•×—×™×–×•×§ ×—×™×•×‘×™</li>
                            <li>×ª×§×©×•×¨×ª ×¤×ª×•×—×” ×¢× ×¦×•×•×ª ×‘×™×ª ×”×¡×¤×¨</li>
                        </ul>
                    </div>

                    <div class="section">
                        <p><strong>×ª××¨×™×š ×”×“×•×—:</strong> ${new Date().toLocaleDateString('he-IL')}</p>
                        <p><strong>××—×¨××™ ×¢×œ ×”×“×•×—:</strong> ××¢×¨×›×ª ×•×•×“×§×•×§-×’'×•× ×¡×•×Ÿ</p>
                    </div>
                </body>
                </html>
            `);
        }

        // ××™×¨×•×¢×™×
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const files = e.target.files;
            if (files.length > 0) {
                alert(`× ×‘×—×¨×• ${files.length} ×§×‘×¦×™×. ×¤×•× ×§×¦×™×•× ×œ×™×•×ª ×¢×™×‘×•×“ ×§×‘×¦×™× ×ª×ª×•×•×¡×£ ×‘×¢×ª×™×“.`);
            }
        });

        // ×—×™×©×•×‘ ××•×˜×•××˜×™ ×‘×–××Ÿ ×”×–× ×”
        document.querySelectorAll('input[id$="_raw"]').forEach(input => {
            input.addEventListener('input', function() {
                const testType = this.id.replace('_raw', '');
                const rawScore = this.value;
                const age = document.getElementById('studentAge').value;

                if (rawScore && age) {
                    const standardScore = convertToStandardScore(rawScore, testType, age);
                    document.getElementById(testType + '_standard').value = standardScore;
                }
            });
        });

        // ×¤×•× ×§×¦×™×•×ª × ×•×¡×¤×•×ª ×œ×¢×™×‘×•×“ ×§×‘×¦×™×
        function processUploadedFile(file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const content = e.target.result;
                // ×›××Ÿ ×™×ª×•×•×¡×£ ×§×•×“ ×œ×¤×¢× ×•×— ×ª×•×›×Ÿ ×”×§×‘×¦×™×
                console.log('×§×•×‘×¥ × ×˜×¢×Ÿ:', file.name);
            };
            reader.readAsText(file);
        }

        // ××™××•×ª×™ × ×ª×•× ×™×
        function validateScores() {
            const requiredFields = ['studentName', 'studentAge', 'testDate', 'grade'];
            for (let field of requiredFields) {
                if (!document.getElementById(field).value) {
                    alert(`×©×“×” ${field} ×”×•× ×—×•×‘×”`);
                    return false;
                }
            }
            return true;
        }

        // ×¤×•× ×§×¦×™×” ×œ×©××™×¨×ª × ×ª×•× ×™× ××§×•××™×ª
        function saveDataLocally() {
            const data = {
                studentName: document.getElementById('studentName').value,
                studentAge: document.getElementById('studentAge').value,
                testDate: document.getElementById('testDate').value,
                grade: document.getElementById('grade').value,
                scores: {}
            };

            // ×©××™×¨×ª ×›×œ ×”×¦×™×•× ×™×
            const tests = ['gia', 'vocab', 'numbers', 'reading', 'math', 'writing'];
            tests.forEach(test => {
                data.scores[test] = {
                    raw: document.getElementById(test + '_raw').value,
                    standard: document.getElementById(test + '_standard').value
                };
            });

            // ×©××™×¨×” ×‘×–×™×›×¨×•×Ÿ ×”××¢×¨×›×ª (×œ× ×‘localStorage)
            window.currentAssessment = data;
            console.log('× ×ª×•× ×™× × ×©××¨×• ×‘×–×™×›×¨×•×Ÿ ×”××¢×¨×›×ª');
        }

        // ×™×¦×™×¨×ª ×’×¨×£ ×”×ª×¤×œ×’×•×ª ×¦×™×•× ×™×
        function createScoreChart() {
            const canvas = document.createElement('canvas');
            canvas.width = 400;
            canvas.height = 200;
            const ctx = canvas.getContext('2d');

            // ×¦×™×•×¨ ×’×¨×£ ×¤×©×•×˜ ×©×œ ×”×ª×¤×œ×’×•×ª × ×•×¨××œ×™×ª
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 2;
            ctx.beginPath();

            for (let x = 0; x < 400; x++) {
                const score = (x / 400) * 60 + 70; // ×˜×•×•×— 70-130
                const y = normalDistribution(score, 100, 15) * 1000;
                if (x === 0) {
                    ctx.moveTo(x, 200 - y);
                } else {
                    ctx.lineTo(x, 200 - y);
                }
            }
            ctx.stroke();

            return canvas;
        }

        function normalDistribution(x, mean, sd) {
            return (1 / (sd * Math.sqrt(2 * Math.PI))) * Math.exp(-0.5 * Math.pow((x - mean) / sd, 2));
        }

        // ×¤×•× ×§×¦×™×” ×œ×—×™×©×•×‘ ×¨×•×•×— ×‘×™×˜×—×•×Ÿ
        function calculateConfidenceInterval(standardScore, testType) {
            const sem = getStandardErrorOfMeasurement(testType);
            const confidence90 = {
                lower: standardScore - (1.65 * sem),
                upper: standardScore + (1.65 * sem)
            };
            return confidence90;
        }

        function getStandardErrorOfMeasurement(testType) {
            // ×¢×¨×›×™ SEM ×œ×“×•×’××” (×‘×¤×•×¢×œ ×™×© ×¦×•×¨×š ×‘× ×ª×•× ×™× ××“×•×™×§×™×)
            const semValues = {
                gia: 3.5,
                vocab: 4.2,
                numbers: 5.1,
                reading: 3.8,
                math: 4.5,
                writing: 5.3
            };
            return semValues[testType] || 4.0;
        }

        // ×¤×•× ×§×¦×™×” ×œ×—×™×©×•×‘ ×©×™× ×•×™ ××©××¢×•×ª×™ ×‘×™×Ÿ ×‘×“×™×§×•×ª
        function calculateSignificantChange(score1, score2, testType) {
            const sem = getStandardErrorOfMeasurement(testType);
            const seDiff = Math.sqrt(2 * Math.pow(sem, 2));
            const zScore = Math.abs(score1 - score2) / seDiff;
            return zScore > 1.96; // ××•×‘×”×§×•×ª ×©×œ 95%
        }

        // ×¤×•× ×§×¦×™×” ×œ×™×¦×™×¨×ª ×”××œ×¦×•×ª ××•×ª×××•×ª ××™×©×™×ª
        function generatePersonalizedRecommendations() {
            const recommendations = [];
            const tests = ['gia', 'vocab', 'numbers', 'reading', 'math', 'writing'];

            tests.forEach(test => {
                const standardScore = parseInt(document.getElementById(test + '_standard').value);
                if (standardScore && standardScore < 85) {
                    const testNames = {
                        gia: '×™×›×•×œ×•×ª ×§×•×’× ×™×˜×™×‘×™×•×ª ×›×œ×œ×™×•×ª',
                        vocab: '××•×¦×¨ ××™×œ×™×',
                        numbers: '×–×™×›×¨×•×Ÿ ×¢×‘×•×“×”',
                        reading: '×§×¨×™××”',
                        math: '××ª××˜×™×§×”',
                        writing: '×›×ª×™×‘×”'
                    };

                    const interventions = {
                        vocab: ['×©×™××•×© ×‘××™×œ×•×Ÿ ××¦×•×œ×', '×”×¨×—×‘×ª ××•×¦×¨ ××™×œ×™× ×‘×©×™×—×”', '×§×¨×™××ª ×¡×¤×¨×™× ××’×•×•× ×™×'],
                        numbers: ['×ª×¨×’×•×œ ×–×™×›×¨×•×Ÿ ×¢×‘×•×“×”', '×©×™××•×© ×‘××¡×˜×¨×˜×’×™×•×ª ×–×™×›×¨×•×Ÿ', '×¤×™×¦×•×œ ××©×™××•×ª ××•×¨×›×‘×•×ª'],
                        reading: ['×ª×¨×’×•×œ ×§×¨×™××” ×™×•××™', '×”×•×¨××ª ××¡×˜×¨×˜×’×™×•×ª ×§×¨×™××”', '×©×™××•×© ×‘×˜×›× ×•×œ×•×’×™×•×ª ××¡×™×™×¢×•×ª'],
                        math: ['×©×™××•×© ×‘×× ×™×¤×•×œ×˜×™×‘×™×™×', '×ª×¨×’×•×œ ××™×•×× ×™ ×‘×¡×™×¡', '×”×•×¨××” ×”×“×¨×’×ª×™×ª'],
                        writing: ['×ª×¨×’×•×œ ×›×ª×™×‘×” ××•×‘× ×™×ª', '×©×™××•×© ×‘×ª×‘× ×™×•×ª ×›×ª×™×‘×”', '×¢×–×¨×” ×‘×ª×›× ×•×Ÿ ×˜×§×¡×˜']
                    };

                    recommendations.push({
                        area: testNames[test],
                        score: standardScore,
                        interventions: interventions[test] || ['×”×ª×¢×¨×‘×•×ª ××•×ª×××ª ××™×©×™×ª']
                    });
                }
            });

            return recommendations;
        }

        // ××ª×—×•×œ ×”××¢×¨×›×ª
        window.onload = function() {
            console.log('××¢×¨×›×ª ×•×•×“×§×•×§-×’\'×•× ×¡×•×Ÿ × ×˜×¢× ×” ×‘×”×¦×œ×—×”');

            // ×”×•×¡×¤×ª ×ª××¨×™×š × ×•×›×—×™ ×›×‘×¨×™×¨×ª ××—×“×œ
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('testDate').value = today;
        };
    </script>
</body>
</html>